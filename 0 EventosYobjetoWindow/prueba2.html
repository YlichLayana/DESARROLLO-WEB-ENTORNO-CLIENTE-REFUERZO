<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<!-- Bootstrap 5.2.2-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
	<body >
		
		<div class="cards">
			<div class="card border border-info rounded-3" id="miTarjeta1">
			  <!-- ... contenido de la tarjeta aquí ... -->
			  	<div class="card-body">    
					<h5 class="card-title">Teresa Fuentes</h5>    
					<p class="card-title">Tel-Móvil: 645841224</p>    
					<p class="card-title">Especialidad: Peinados</p>    
					<p class="card-text">Precio: $35.0</p>    
					<p class="card-text">Categoría: PELUQUERIA</p>    
					<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-servicio-id="5">Agendar</button>  
				</div>
			</div>
			<div class="card border border-info rounded-3" id="miTarjeta2">
			  <!-- ... contenido de la tarjeta aquí ... -->
			  <div class="card-body">    
				<h5 class="card-title">Teresa Fuentes</h5>    
				<p class="card-title">Tel-Móvil: 645841224</p>    
				<p class="card-title">Especialidad: Peinados</p>    
				<p class="card-text">Precio: $35.0</p>    
				<p class="card-text">Categoría: PELUQUERIA</p>    
				<button id="myModalBoton2" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-servicio-id="6">Agendar</button>  
			</div>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Agendar Servicio </h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						
					</button>
				</div>

				<div class="modal-body">
					<form id="form-agendar-cita" class="row g-3" th:action="@{/citas/agendar}" method="post">
						<!-- Campos oculto del formulario -->
						<div class="col-6">
							<label for="inputServicioId" class="form-label">Id Servicio</label>
							<input type="text" class="form-control" name="servicioId" id="servicioId" disabled>
						</div>

						<div class="col-6">
							<label for="inputServicioNombre" class="form-label">Nombre Servicio</label>
							<input type="text" class="form-control" name="servicioId" id="servicioId" disabled>
						</div>

						<div class="col-6">
							<label for="inputProveedorNombre" class="form-label">Proveedor</label>
							<input type="text" class="form-control" name="servicioId" id="servicioId" disabled>
						</div>

						<div class="col-6">
							<label for="inputProveedorMovil" class="form-label">Tel-Movil</label>
							<input type="text" class="form-control" name="servicioId" id="servicioId" disabled>
						</div>

						<div class="col-md-6">
							<label for="fechaCita" class="form-label">Fecha</label>
							<input type="date" class="form-control" id="fecha" name="fecha" required>
						</div>
						
						<div class="col-md-6">
							<label for="HoraCita" class="form-label">Hora</label>
							<input type="time" class="form-control" id="hora" name="hora" required>
						</div>

					</form>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-bs-dismiss="modal">Cancelar</button>
					<button type="submit" form="form-agendar-cita" class="btn btn-primary">Agendar</button>
				</div>

			</div>
		</div>
	</div>
	<!--Fin Modal -->

    <script>
        document.querySelector('.cards').addEventListener('click', function (event) {
                    if (event.target.tagName === 'BUTTON') {
                        var tarjetaPadre = event.target.closest('.card');
                        var idTarjeta = tarjetaPadre.id;
                        var valorServicioId = event.target.getAttribute('data-servicio-id');
                        console.log(idTarjeta, valorServicioId);
                        document.querySelector('#servicioId').value = valorServicioId;
                    }
                });
    </script>

</body>
</html>